{"version":17,"variables":[{"key":"Buckets","type":"query","visible":true,"input":"fetch dt.system.buckets\n| filter dt.system.table==\"logs\"\n| fields name\n| sort name","multiple":true,"defaultValue":["3420b2ac-f1cf-4b24-b62d-61ba1ba8ed05*"]},{"key":"Namespace","type":"query","visible":true,"input":"data record(entity.name=\"Non-Kubernetes\")\n| append [fetch dt.entity.cloud_application_namespace\n| fields entity.name\n| sort entity.name]","multiple":true,"defaultValue":["3420b2ac-f1cf-4b24-b62d-61ba1ba8ed05*"]},{"key":"logsource","type":"text","visible":true},{"key":"Sampling","type":"csv","visible":true,"input":"10000,1000,100,10,1","multiple":false,"defaultValue":"100"},{"key":"Status","type":"csv","visible":true,"input":"NONE,INFO,WARN,ERROR","multiple":false,"defaultValue":"ERROR"},{"key":"Content","type":"text","visible":true}],"tiles":{"2":{"type":"data","title":"Logs per Status over Time with total sums on the left for each status","query":"fetch logs, samplingRatio:toLong($Sampling)\n| filter in(dt.system.bucket, $Buckets)\n| filter ((isNull(k8s.namespace.name) and in(\"Non-Kubernetes\",array($Namespace)) or in(k8s.namespace.name, array($Namespace))) and (isNull($logsource) or matchesValue($logsource, \" \") or contains(log.source,$logsource)))\n| filter contains(content, $Content)\n| maketimeseries {count=count(default:0)}, by: {status}, bins:60","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"barChart","visualizationSettings":{"thresholds":[],"chartSettings":{"xAxisScaling":"analyzedTimeframe","gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxis":["status"],"valueAxis":["interval"],"categoryAxisLabel":"status","valueAxisLabel":"interval","tooltipVariant":"single"},"fieldMapping":{"timestamp":"timeframe","leftAxisValues":["count"],"leftAxisDimensions":["status"]},"colorPalette":"log-level","hiddenLegendFields":["dt.entity.process_group","dt.entity.cloud_application","dt.entity.process_group_instance","interval"],"valueRepresentation":"absolute","truncationMode":"middle","legend":{"hidden":true},"tooltip":{"seriesDisplayMode":"single-line"},"xAxisLabel":"timeframe","xAxisIsLabelVisible":false,"leftYAxisSettings":{}},"singleValue":{"showLabel":true,"label":"timestamp","prefixIcon":"","recordField":"timestamp","autoscale":true,"alignment":"center","colorThresholdTarget":"value","trend":{"trendType":"auto","isVisible":true}},"table":{"rowDensity":"condensed","enableSparklines":true,"hiddenColumns":[["timeframe"],["interval"]],"lineWrapIds":[["timeframe"],["interval"],["pattern"],["count"]],"columnWidths":{"[\"pattern\"]":1504,"[\"example\"]":1736},"sortBy":{"columnId":"[\"count()\"]","direction":"descending"},"columnTypeOverrides":[{"fields":["count"],"value":"sparkline","id":1735853088274}]},"honeycomb":{"shape":"hexagon","legend":"auto","dataMappings":{"value":"interval"},"displayedFields":["status"],"colorMode":"color-palette","colorPalette":"blue"},"histogram":{"dataMappings":[{"valueAxis":"interval","rangeAxis":""}],"variant":"single","displayedFields":["status"]},"autoSelectVisualization":false},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":50,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"3":{"type":"markdown","title":"","content":"### Quick Start: Let Dynatrace Make your Logs Actionable!\nThis dashboard gives quick access and analysis to relevant logs that you can easily filter on ...\n* **buckets**: Specify which data set you want to query!\n* **namespaces**: Running on k8s? Then select the namespaces your are interested in\n* **logsource**: Want to analyze a specific log file or source?\n* **sampling**: Leverage the DQL sampling feature, e.g:only analyze every 100th log!\n* **status**: This is the status filter for the **Top 20 Tables**\n* **content**: Looking for a specific message? Then enter the log content pattern\n\n**To test this dashboard on the Playground Tenant please try the following settings:** \n* [Scenario with all namespaces with any logsource](https://wkf10640.apps.dynatrace.com/ui/apps/dynatrace.dashboards/dashboard/bfb7e2ed-e545-43fa-ae07-72ec92cbaaf9#from=now%28%29-2h&to=now%28%29&tileIds=3&vfilter_Buckets=default_logs&vfilter_Namespace=3420b2ac-f1cf-4b24-b62d-61ba1ba8ed05*&&vfilter_logsource=%20&vfilter_Sampling=100&vfilter_Status=ERROR)\n* [Scenario focusing on content from log sources that contain .log](https://wkf10640.apps.dynatrace.com/ui/apps/dynatrace.dashboards/dashboard/bfb7e2ed-e545-43fa-ae07-72ec92cbaaf9#from=now%28%29-2h&to=now%28%29&tileIds=3&vfilter_Buckets=default_logs&vfilter_Namespace=3420b2ac-f1cf-4b24-b62d-61ba1ba8ed05*&vfilter_logsource=.log&vfilter_Sampling=100&vfilter_Status=ERROR)\n\nIf you have feedback please send it to [devrel@dynatrace.com](mailto:devrel@dynatrace.com?subject=Feedback%20Log%20Pattern%20Dashboard)"},"4":{"type":"data","title":"Top 20 Log Messages overall","query":"fetch logs, samplingRatio:toLong($Sampling)\n| filter in(dt.system.bucket, $Buckets)\n| filter ((isNull(k8s.namespace.name) and in(\"Non-Kubernetes\",array($Namespace)) or in(k8s.namespace.name, array($Namespace))) and (isNull($logsource) or matchesValue($logsource, \" \") or contains(log.source,$logsource)))\n| filter contains(content, $Content)\n| summarize count=count(), by:{status,content}\n| sort count desc\n| limit 20\n| fields count, status, content","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"table","visualizationSettings":{"thresholds":[],"chartSettings":{"xAxisScaling":"analyzedTimeframe","gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxis":["status","content"],"valueAxis":["count"],"categoryAxisLabel":"status,content","valueAxisLabel":"count","tooltipVariant":"single"},"colorPalette":"log-level","hiddenLegendFields":["dt.entity.process_group","dt.entity.cloud_application","dt.entity.process_group_instance"],"valueRepresentation":"absolute","truncationMode":"middle"},"singleValue":{"showLabel":true,"label":"timestamp","prefixIcon":"","recordField":"timestamp","autoscale":true,"alignment":"center","colorThresholdTarget":"value","trend":{"trendType":"auto","isVisible":true}},"table":{"rowDensity":"condensed","enableSparklines":true,"hiddenColumns":[],"lineWrapIds":[["content"]],"columnWidths":{"[\"pattern\"]":1504,"[\"example\"]":1736,"[\"content\"]":620},"sortBy":{"columnId":"[\"count()\"]","direction":"descending"},"linewrapEnabled":true,"monospacedFontEnabled":true,"monospacedFontColumns":[["content"]],"columnTypeOverrides":[{"fields":["content"],"id":1735853089343,"value":"log-content"}]},"honeycomb":{"shape":"hexagon","legend":"auto","dataMappings":{"value":"count"},"displayedFields":["status","content"],"colorMode":"color-palette","colorPalette":"blue"},"histogram":{"dataMappings":[{"valueAxis":"count","rangeAxis":""}],"variant":"single","displayedFields":["status","content"]},"autoSelectVisualization":false},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":50,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"5":{"type":"data","title":"Top 20 Log Messages for selected Status","query":"fetch logs, samplingRatio:toLong($Sampling)\n| filter in(dt.system.bucket, $Buckets)\n| filter ((isNull(k8s.namespace.name) and in(\"Non-Kubernetes\",array($Namespace)) or in(k8s.namespace.name, array($Namespace))) and (isNull($logsource) or matchesValue($logsource, \" \") or contains(log.source,$logsource)))\n| filter contains(content, $Content)\n| filter status == $Status\n| summarize count=count(), by:{status,content}\n| sort count desc\n| limit 20\n| fields count, status, content","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"table","visualizationSettings":{"thresholds":[],"chartSettings":{"xAxisScaling":"analyzedTimeframe","gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxis":["status","content"],"valueAxis":["count"],"categoryAxisLabel":"status,content","valueAxisLabel":"count","tooltipVariant":"single"},"colorPalette":"log-level","hiddenLegendFields":["dt.entity.process_group","dt.entity.cloud_application","dt.entity.process_group_instance"],"valueRepresentation":"absolute","truncationMode":"middle"},"singleValue":{"showLabel":true,"label":"timestamp","prefixIcon":"","recordField":"timestamp","autoscale":true,"alignment":"center","colorThresholdTarget":"value","trend":{"trendType":"auto","isVisible":true}},"table":{"rowDensity":"condensed","enableSparklines":true,"hiddenColumns":[],"lineWrapIds":[["content"]],"columnWidths":{"[\"pattern\"]":1504,"[\"example\"]":1736,"[\"content\"]":552},"sortBy":{"columnId":"[\"count()\"]","direction":"descending"},"linewrapEnabled":true,"monospacedFontEnabled":true,"monospacedFontColumns":[["content"]],"columnTypeOverrides":[{"fields":["content"],"id":1735853088268,"value":"log-content"}]},"honeycomb":{"shape":"hexagon","legend":"auto","dataMappings":{"value":"count"},"displayedFields":["status","content"],"colorMode":"color-palette","colorPalette":"blue"},"histogram":{"dataMappings":[{"valueAxis":"count","rangeAxis":""}],"variant":"single","displayedFields":["status","content"]},"autoSelectVisualization":false},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":50,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"6":{"type":"data","title":"Top 20 Log Messages for selected Status connected to Trace","query":"fetch logs, samplingRatio:toLong($Sampling)\n| filter in(dt.system.bucket, $Buckets)\n| filter ((isNull(k8s.namespace.name) and in(\"Non-Kubernetes\",array($Namespace)) or in(k8s.namespace.name, array($Namespace))) and (isNull($logsource) or matchesValue($logsource, \" \") or contains(log.source,$logsource)))\n| filter contains(content, $Content)\n| filter isNotNull(trace_id)\n| summarize count=count(), by:{status,content,trace_id,timestamp}\n| sort count desc\n| limit 20\n| fields count, status, content, trace_id, timestamp","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"table","visualizationSettings":{"thresholds":[],"chartSettings":{"xAxisScaling":"analyzedTimeframe","gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxis":["status","content","trace_id"],"valueAxis":["count"],"categoryAxisLabel":"status,content,trace_id","valueAxisLabel":"count","tooltipVariant":"single"},"fieldMapping":{"timestamp":"timestamp","leftAxisValues":["count"],"leftAxisDimensions":["status"]},"colorPalette":"log-level","hiddenLegendFields":["dt.entity.process_group","dt.entity.cloud_application","dt.entity.process_group_instance"],"valueRepresentation":"absolute","truncationMode":"middle"},"singleValue":{"showLabel":true,"label":"timestamp","prefixIcon":"","recordField":"timestamp","autoscale":true,"alignment":"center","colorThresholdTarget":"value","trend":{"trendType":"auto","isVisible":true}},"table":{"rowDensity":"condensed","enableSparklines":true,"hiddenColumns":[],"lineWrapIds":[["content"]],"columnWidths":{"[\"pattern\"]":1504,"[\"example\"]":1736,"[\"content\"]":771},"sortBy":{"columnId":"[\"count()\"]","direction":"descending"},"linewrapEnabled":true,"monospacedFontEnabled":true,"monospacedFontColumns":[["content"]],"columnTypeOverrides":[{"fields":["content"],"id":1735853091530,"value":"log-content"}]},"honeycomb":{"shape":"hexagon","legend":"auto","dataMappings":{"value":"count"},"displayedFields":["status","content","trace_id"],"colorMode":"color-palette","colorPalette":"blue"},"histogram":{"dataMappings":[{"valueAxis":"count","rangeAxis":""}],"variant":"single","displayedFields":["status","content","trace_id"]},"autoSelectVisualization":false},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":50,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"7":{"type":"data","title":"","query":"fetch logs, samplingRatio:toLong($Sampling)\n| filter in(dt.system.bucket, $Buckets)\n| filter ((isNull(k8s.namespace.name) and in(\"Non-Kubernetes\",array($Namespace)) or in(k8s.namespace.name, array($Namespace))) and (isNull($logsource) or matchesValue($logsource, \" \") or contains(log.source,$logsource)))\n| filter contains(content, $Content)\n| filter status == \"NONE\"\n| summarize count()","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"xAxisScaling":"analyzedTimeframe","gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxisLabel":"count()","valueAxisLabel":"count()","tooltipVariant":"single","categoryAxis":["count()"],"valueAxis":["count()"]},"colorPalette":"log-level","hiddenLegendFields":["dt.entity.process_group","dt.entity.cloud_application","dt.entity.process_group_instance"],"valueRepresentation":"absolute","truncationMode":"middle"},"singleValue":{"showLabel":false,"label":"count()","prefixIcon":"","recordField":"count()","autoscale":true,"alignment":"center","colorThresholdTarget":"value","trend":{"trendType":"custom","isVisible":false,"trendField":"count()"},"isIconVisible":false},"table":{"rowDensity":"condensed","enableSparklines":true,"hiddenColumns":[["timeframe"],["interval"]],"lineWrapIds":[["timeframe"],["interval"],["pattern"],["count"]],"columnWidths":{"[\"pattern\"]":1504,"[\"example\"]":1736},"sortBy":{"columnId":"[\"count()\"]","direction":"descending"},"columnTypeOverrides":[]},"honeycomb":{"shape":"hexagon","legend":"auto","dataMappings":{},"displayedFields":[],"colorMode":"color-palette","colorPalette":"blue"},"histogram":{"dataMappings":[{"valueAxis":"count()","rangeAxis":""}],"variant":"single","displayedFields":[]},"autoSelectVisualization":false},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":50,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"8":{"type":"data","title":"","query":"fetch logs, samplingRatio:toLong($Sampling)\n| filter in(dt.system.bucket, $Buckets)\n| filter ((isNull(k8s.namespace.name) and in(\"Non-Kubernetes\",array($Namespace)) or in(k8s.namespace.name, array($Namespace))) and (isNull($logsource) or matchesValue($logsource, \" \") or contains(log.source,$logsource)))\n| filter contains(content, $Content)\n| filter status == \"INFO\"\n| summarize count()","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"singleValue","visualizationSettings":{"thresholds":[{"id":1,"field":"count()","title":"","isEnabled":true,"rules":[{"id":0,"color":{"Default":"var(--dt-colors-charts-categorical-color-01-default, #134fc9)"},"comparator":"≥","label":"","value":0},{"id":1,"color":{"Default":"var(--dt-colors-charts-status-warning-default, #eca440)"},"comparator":"≥","label":""},{"id":2,"color":{"Default":"var(--dt-colors-charts-status-critical-default, #c4233b)"},"comparator":"≥","label":""}]}],"chartSettings":{"xAxisScaling":"analyzedTimeframe","gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxisLabel":"count()","valueAxisLabel":"count()","tooltipVariant":"single","categoryAxis":["count()"],"valueAxis":["count()"]},"colorPalette":"log-level","hiddenLegendFields":["dt.entity.process_group","dt.entity.cloud_application","dt.entity.process_group_instance"],"valueRepresentation":"absolute","truncationMode":"middle"},"singleValue":{"showLabel":false,"label":"count()","prefixIcon":"","recordField":"count()","autoscale":true,"alignment":"center","colorThresholdTarget":"value","trend":{"trendType":"custom","isVisible":false,"trendField":"count()"},"isIconVisible":false},"table":{"rowDensity":"condensed","enableSparklines":true,"hiddenColumns":[["timeframe"],["interval"]],"lineWrapIds":[["timeframe"],["interval"],["pattern"],["count"]],"columnWidths":{"[\"pattern\"]":1504,"[\"example\"]":1736},"sortBy":{"columnId":"[\"count()\"]","direction":"descending"},"columnTypeOverrides":[]},"honeycomb":{"shape":"hexagon","legend":"auto","dataMappings":{},"displayedFields":[],"colorMode":"color-palette","colorPalette":"blue"},"histogram":{"dataMappings":[{"valueAxis":"count()","rangeAxis":""}],"variant":"single","displayedFields":[]},"autoSelectVisualization":false},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":50,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"9":{"type":"data","title":"","query":"fetch logs, samplingRatio:toLong($Sampling)\n| filter in(dt.system.bucket, $Buckets)\n| filter ((isNull(k8s.namespace.name) and in(\"Non-Kubernetes\",array($Namespace)) or in(k8s.namespace.name, array($Namespace))) and (isNull($logsource) or matchesValue($logsource, \" \") or contains(log.source,$logsource)))\n| filter contains(content, $Content)\n| filter status == \"WARN\"\n| summarize count()","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"singleValue","visualizationSettings":{"thresholds":[{"id":1,"field":"count()","title":"","isEnabled":true,"rules":[{"id":0,"color":{"Default":"var(--dt-colors-charts-categorical-color-14-default, #d56b1a)"},"comparator":"≥","label":"","value":0},{"id":1,"color":{"Default":"var(--dt-colors-charts-status-warning-default, #eca440)"},"comparator":"≥","label":""},{"id":2,"color":{"Default":"var(--dt-colors-charts-status-critical-default, #c4233b)"},"comparator":"≥","label":""}]}],"chartSettings":{"xAxisScaling":"analyzedTimeframe","gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxisLabel":"count()","valueAxisLabel":"count()","tooltipVariant":"single","categoryAxis":["count()"],"valueAxis":["count()"]},"colorPalette":"log-level","hiddenLegendFields":["dt.entity.process_group","dt.entity.cloud_application","dt.entity.process_group_instance"],"valueRepresentation":"absolute","truncationMode":"middle"},"singleValue":{"showLabel":false,"label":"count()","prefixIcon":"","recordField":"count()","autoscale":true,"alignment":"center","colorThresholdTarget":"value","trend":{"trendType":"custom","isVisible":false,"trendField":"count()"},"isIconVisible":false},"table":{"rowDensity":"condensed","enableSparklines":true,"hiddenColumns":[["timeframe"],["interval"]],"lineWrapIds":[["timeframe"],["interval"],["pattern"],["count"]],"columnWidths":{"[\"pattern\"]":1504,"[\"example\"]":1736},"sortBy":{"columnId":"[\"count()\"]","direction":"descending"},"columnTypeOverrides":[]},"honeycomb":{"shape":"hexagon","legend":"auto","dataMappings":{},"displayedFields":[],"colorMode":"color-palette","colorPalette":"blue"},"histogram":{"dataMappings":[{"valueAxis":"count()","rangeAxis":""}],"variant":"single","displayedFields":[]},"autoSelectVisualization":false},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":50,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"10":{"type":"data","title":"","query":"fetch logs, samplingRatio:toLong($Sampling)\n| filter in(dt.system.bucket, $Buckets)\n| filter ((isNull(k8s.namespace.name) and in(\"Non-Kubernetes\",array($Namespace)) or in(k8s.namespace.name, array($Namespace))) and (isNull($logsource) or matchesValue($logsource, \" \") or contains(log.source,$logsource)))\n| filter contains(content, $Content)\n| filter status == \"ERROR\"\n| summarize count()","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"singleValue","visualizationSettings":{"thresholds":[{"id":1,"field":"count()","title":"","isEnabled":true,"rules":[{"id":0,"color":{"Default":"var(--dt-colors-charts-categorical-color-12-default, #cd3741)"},"comparator":"≥","label":"","value":0},{"id":1,"color":{"Default":"var(--dt-colors-charts-status-warning-default, #eca440)"},"comparator":"≥","label":""},{"id":2,"color":{"Default":"var(--dt-colors-charts-status-critical-default, #c4233b)"},"comparator":"≥","label":""}]}],"chartSettings":{"xAxisScaling":"analyzedTimeframe","gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxisLabel":"count()","valueAxisLabel":"count()","tooltipVariant":"single","categoryAxis":["count()"],"valueAxis":["count()"]},"colorPalette":"log-level","hiddenLegendFields":["dt.entity.process_group","dt.entity.cloud_application","dt.entity.process_group_instance"],"valueRepresentation":"absolute","truncationMode":"middle"},"singleValue":{"showLabel":false,"label":"count()","prefixIcon":"","recordField":"count()","autoscale":true,"alignment":"center","colorThresholdTarget":"value","trend":{"trendType":"custom","isVisible":false,"trendField":"count()"},"isIconVisible":false},"table":{"rowDensity":"condensed","enableSparklines":true,"hiddenColumns":[["timeframe"],["interval"]],"lineWrapIds":[["timeframe"],["interval"],["pattern"],["count"]],"columnWidths":{"[\"pattern\"]":1504,"[\"example\"]":1736},"sortBy":{"columnId":"[\"count()\"]","direction":"descending"},"columnTypeOverrides":[]},"honeycomb":{"shape":"hexagon","legend":"auto","dataMappings":{},"displayedFields":[],"colorMode":"color-palette","colorPalette":"blue"},"histogram":{"dataMappings":[{"valueAxis":"count()","rangeAxis":""}],"variant":"single","displayedFields":[]},"autoSelectVisualization":false},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":50,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"11":{"type":"data","title":"","query":"fetch logs, samplingRatio:toLong($Sampling)\n| filter in(dt.system.bucket, $Buckets)\n| filter ((isNull(k8s.namespace.name) and in(\"Non-Kubernetes\",array($Namespace)) or in(k8s.namespace.name, array($Namespace))) and (isNull($logsource) or matchesValue($logsource, \" \") or contains(log.source,$logsource)))\n| filter contains(content, $Content)\n| limit 100\n| fields status, timestamp, log.source, content, dt.entity.host, dt.entity.kubernetes_cluster, dt.entity.cloud_application, dt.entity.cloud_application_instance, dt.entity.cloud_application_namespace, trace_id, span_id","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"table","visualizationSettings":{"thresholds":[],"chartSettings":{"xAxisScaling":"analyzedTimeframe","gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxis":["status","log.source","content","dt.entity.host","dt.entity.kubernetes_cluster","dt.entity.cloud_application","dt.entity.cloud_application_instance","dt.entity.cloud_application_namespace","trace_id","span_id"],"valueAxis":[],"categoryAxisLabel":"status,log.source,content,dt.entity.host,dt.entity.kubernetes_cluster,dt.entity.cloud_application,dt.entity.cloud_application_instance,dt.entity.cloud_application_namespace,trace_id,span_id","valueAxisLabel":"","tooltipVariant":"single"},"colorPalette":"log-level","hiddenLegendFields":["dt.entity.process_group","dt.entity.cloud_application","dt.entity.process_group_instance"],"valueRepresentation":"absolute","truncationMode":"middle"},"singleValue":{"showLabel":true,"label":"timestamp","prefixIcon":"","recordField":"timestamp","autoscale":true,"alignment":"center","colorThresholdTarget":"value","trend":{"trendType":"auto","isVisible":true}},"table":{"rowDensity":"condensed","enableSparklines":true,"hiddenColumns":[["dt.entity.host"],["dt.entity.kubernetes_cluster"],["dt.entity.cloud_application"],["dt.entity.cloud_application_instance"],["dt.entity.cloud_application_namespace"],["trace_id"],["span_id"]],"lineWrapIds":[["content"]],"columnWidths":{"[\"pattern\"]":1504,"[\"example\"]":1736,"[\"dt.entity.process_group\"]":322.01416015625,"[\"dt.entity.process_group_instance\"]":385,"[\"log.source\"]":164.09375,"[\"content\"]":743,"[\"timestamp\"]":231.6676025390625},"sortBy":{"columnId":"[\"count()\"]","direction":"descending"},"linewrapEnabled":true,"monospacedFontEnabled":true,"monospacedFontColumns":[["content"]],"columnTypeOverrides":[{"fields":["content"],"id":1735853090515,"value":"log-content"}],"colorThresholdTarget":"value","enableThresholdInRow":false},"honeycomb":{"shape":"hexagon","legend":"auto","dataMappings":{"value":"status"},"displayedFields":["status","log.source","content","dt.entity.host","dt.entity.kubernetes_cluster","dt.entity.cloud_application","dt.entity.cloud_application_instance","dt.entity.cloud_application_namespace","trace_id","span_id"],"colorMode":"color-palette","colorPalette":"categorical"},"histogram":{"dataMappings":[],"variant":"single","displayedFields":["content"]},"autoSelectVisualization":false},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":50,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"12":{"type":"data","title":"Top Log Sources","query":"fetch logs, samplingRatio:toLong($Sampling)\n| filter in(dt.system.bucket, $Buckets)\n| filter ((isNull(k8s.namespace.name) and in(\"Non-Kubernetes\",array($Namespace)) or in(k8s.namespace.name, array($Namespace))) and (isNull($logsource) or matchesValue($logsource, \" \") or contains(log.source,$logsource)))\n| filter contains(content, $Content)\n| summarize {count()}, by: {log.source}","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"table","visualizationSettings":{"thresholds":[],"chartSettings":{"xAxisScaling":"analyzedTimeframe","gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxis":["log.source"],"valueAxis":["count()"],"categoryAxisLabel":"log.source","valueAxisLabel":"count()","tooltipVariant":"single"},"colorPalette":"log-level","hiddenLegendFields":["dt.entity.process_group","dt.entity.cloud_application","dt.entity.process_group_instance"],"valueRepresentation":"absolute","truncationMode":"middle"},"singleValue":{"showLabel":true,"label":"timestamp","prefixIcon":"","recordField":"timestamp","autoscale":true,"alignment":"center","colorThresholdTarget":"value","trend":{"trendType":"auto","isVisible":true}},"table":{"rowDensity":"condensed","enableSparklines":true,"hiddenColumns":[["timeframe"],["interval"]],"lineWrapIds":[["timeframe"],["interval"],["pattern"],["count"]],"columnWidths":{"[\"pattern\"]":1504,"[\"example\"]":1736,"[\"log.source\"]":367.73010253906244},"sortBy":{"columnId":"[\"count()\"]","direction":"descending"},"columnTypeOverrides":[]},"honeycomb":{"shape":"hexagon","legend":"auto","dataMappings":{"value":"count()"},"displayedFields":["log.source"],"colorMode":"color-palette","colorPalette":"blue"},"histogram":{"dataMappings":[{"valueAxis":"count()","rangeAxis":""}],"variant":"single","displayedFields":["log.source"]},"autoSelectVisualization":false},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":50,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"13":{"type":"data","title":"NONE Logs with Error","query":"fetch logs, samplingRatio:toLong($Sampling)\n| filter in(dt.system.bucket, $Buckets)\n| filter ((isNull(k8s.namespace.name) and in(\"Non-Kubernetes\",array($Namespace)) or in(k8s.namespace.name, array($Namespace))) and (isNull($logsource) or matchesValue($logsource, \" \") or contains(log.source,$logsource)))\n| filter contains(content, $Content)\n| filter contains(content, \"Error\") or contains(content, \"error\")\n| filter status == \"NONE\"\n| summarize count()","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"singleValue","visualizationSettings":{"thresholds":[{"id":1,"field":"count()","title":"","isEnabled":true,"rules":[{"id":0,"color":{"Default":"var(--dt-colors-charts-categorical-color-12-default, #cd3741)"},"comparator":"≥","label":"","value":0},{"id":1,"color":{"Default":"var(--dt-colors-charts-status-warning-default, #eca440)"},"comparator":"≥","label":""},{"id":2,"color":{"Default":"var(--dt-colors-charts-status-critical-default, #c4233b)"},"comparator":"≥","label":""}]}],"chartSettings":{"xAxisScaling":"analyzedTimeframe","gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxisLabel":"count()","valueAxisLabel":"count()","tooltipVariant":"single","categoryAxis":["count()"],"valueAxis":["count()"]},"colorPalette":"log-level","hiddenLegendFields":["dt.entity.process_group","dt.entity.cloud_application","dt.entity.process_group_instance"],"valueRepresentation":"absolute","truncationMode":"middle"},"singleValue":{"showLabel":false,"label":"count()","prefixIcon":"","recordField":"count()","autoscale":true,"alignment":"center","colorThresholdTarget":"value","trend":{"trendType":"custom","isVisible":false},"isIconVisible":false},"table":{"rowDensity":"condensed","enableSparklines":true,"hiddenColumns":[["timeframe"],["interval"]],"lineWrapIds":[["timeframe"],["interval"],["pattern"],["count"]],"columnWidths":{"[\"pattern\"]":1504,"[\"example\"]":1736},"sortBy":{"columnId":"[\"count()\"]","direction":"descending"},"columnTypeOverrides":[]},"honeycomb":{"shape":"hexagon","legend":"auto","dataMappings":{},"displayedFields":[],"colorMode":"color-palette","colorPalette":"blue"},"histogram":{"dataMappings":[{"valueAxis":"count()","rangeAxis":""}],"variant":"single","displayedFields":[]},"autoSelectVisualization":false},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":50,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"14":{"type":"data","title":"NONE Logs with Error Content","query":"fetch logs, samplingRatio:toLong($Sampling)\n| filter in(dt.system.bucket, $Buckets)\n| filter ((isNull(k8s.namespace.name) and in(\"Non-Kubernetes\",array($Namespace)) or in(k8s.namespace.name, array($Namespace))) and (isNull($logsource) or matchesValue($logsource, \" \") or contains(log.source,$logsource)))\n| filter contains(content, $Content)\n| filter contains(content, \"Error\") or contains(content, \"error\")\n| filter status == \"NONE\"\n| fields status, timestamp, log.source, content, dt.entity.host, dt.entity.kubernetes_cluster, dt.entity.cloud_application, dt.entity.cloud_application_instance, dt.entity.cloud_application_namespace, trace_id, span_id","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"table","visualizationSettings":{"thresholds":[{"id":1,"field":"count()","title":"","isEnabled":true,"rules":[{"id":0,"color":{"Default":"var(--dt-colors-charts-categorical-color-12-default, #cd3741)"},"comparator":"≥","label":"","value":0},{"id":1,"color":{"Default":"var(--dt-colors-charts-status-warning-default, #eca440)"},"comparator":"≥","label":""},{"id":2,"color":{"Default":"var(--dt-colors-charts-status-critical-default, #c4233b)"},"comparator":"≥","label":""}]}],"chartSettings":{"xAxisScaling":"analyzedTimeframe","gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxisLabel":"status,log.source,content,dt.entity.host,dt.entity.kubernetes_cluster,dt.entity.cloud_application,dt.entity.cloud_application_instance,dt.entity.cloud_application_namespace,trace_id,span_id","valueAxisLabel":"","tooltipVariant":"single","categoryAxis":["status","log.source","content","dt.entity.host","dt.entity.kubernetes_cluster","dt.entity.cloud_application","dt.entity.cloud_application_instance","dt.entity.cloud_application_namespace","trace_id","span_id"],"valueAxis":[]},"colorPalette":"log-level","hiddenLegendFields":["dt.entity.process_group","dt.entity.cloud_application","dt.entity.process_group_instance"],"valueRepresentation":"absolute","truncationMode":"middle"},"singleValue":{"showLabel":false,"label":"count()","prefixIcon":"","recordField":"count()","autoscale":true,"alignment":"center","colorThresholdTarget":"value","trend":{"trendType":"custom","isVisible":false},"isIconVisible":false},"table":{"rowDensity":"condensed","enableSparklines":true,"hiddenColumns":[["dt.entity.host"],["dt.entity.kubernetes_cluster"],["dt.entity.cloud_application"],["dt.entity.cloud_application_instance"],["dt.entity.cloud_application_namespace"],["trace_id"],["span_id"]],"lineWrapIds":[],"columnWidths":{"[\"pattern\"]":1504,"[\"example\"]":1736},"sortBy":{"columnId":"[\"count()\"]","direction":"descending"},"linewrapEnabled":false,"monospacedFontEnabled":true,"monospacedFontColumns":[["content"]],"columnTypeOverrides":[{"fields":["content"],"id":1735853093691,"value":"log-content"}]},"honeycomb":{"shape":"hexagon","legend":"auto","dataMappings":{"value":"status"},"displayedFields":["status","log.source","content","dt.entity.host","dt.entity.kubernetes_cluster","dt.entity.cloud_application","dt.entity.cloud_application_instance","dt.entity.cloud_application_namespace"],"colorMode":"color-palette","colorPalette":"categorical"},"histogram":{"dataMappings":[],"variant":"single","displayedFields":["status","log.source","content","dt.entity.host","dt.entity.kubernetes_cluster","dt.entity.cloud_application","dt.entity.cloud_application_instance","dt.entity.cloud_application_namespace"]},"autoSelectVisualization":false},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":50,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"15":{"type":"data","title":"Number of Logs with Trace Context","query":"fetch logs, samplingRatio:toLong($Sampling)\n| filter in(dt.system.bucket, $Buckets)\n| filter ((isNull(k8s.namespace.name) and in(\"Non-Kubernetes\",array($Namespace)) or in(k8s.namespace.name, array($Namespace))) and (isNull($logsource) or matchesValue($logsource, \" \") or contains(log.source,$logsource)))\n| filter contains(content, $Content)\n| filter isNotNull(trace_id)\n| summarize count()","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"singleValue","visualizationSettings":{"thresholds":[{"id":1,"field":"count()","title":"","isEnabled":true,"rules":[{"id":0,"color":{"Default":"var(--dt-colors-charts-categorical-color-09-default, #649438)"},"comparator":"≥","label":"","value":0},{"id":1,"color":{"Default":"var(--dt-colors-charts-status-warning-default, #eca440)"},"comparator":"≥","label":""},{"id":2,"color":{"Default":"var(--dt-colors-charts-status-critical-default, #c4233b)"},"comparator":"≥","label":""}]}],"chartSettings":{"xAxisScaling":"analyzedTimeframe","gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxisLabel":"count()","valueAxisLabel":"count()","tooltipVariant":"single","categoryAxis":["count()"],"valueAxis":["count()"]},"colorPalette":"log-level","hiddenLegendFields":["dt.entity.process_group","dt.entity.cloud_application","dt.entity.process_group_instance"],"valueRepresentation":"absolute","truncationMode":"middle"},"singleValue":{"showLabel":false,"label":"count()","prefixIcon":"","recordField":"count()","autoscale":true,"alignment":"center","colorThresholdTarget":"value","trend":{"trendType":"custom","isVisible":false},"isIconVisible":false},"table":{"rowDensity":"condensed","enableSparklines":true,"hiddenColumns":[["timeframe"],["interval"]],"lineWrapIds":[["timeframe"],["interval"],["pattern"],["count"]],"columnWidths":{"[\"pattern\"]":1504,"[\"example\"]":1736},"sortBy":{"columnId":"[\"count()\"]","direction":"descending"},"columnTypeOverrides":[]},"honeycomb":{"shape":"hexagon","legend":"auto","dataMappings":{},"displayedFields":[],"colorMode":"color-palette","colorPalette":"blue"},"histogram":{"dataMappings":[{"valueAxis":"count()","rangeAxis":""}],"variant":"single","displayedFields":[]},"autoSelectVisualization":false},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":50,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"16":{"type":"data","title":"Top Log Message","query":"fetch logs, samplingRatio:toLong($Sampling)\n| filter in(dt.system.bucket, $Buckets)\n| filter ((isNull(k8s.namespace.name) and in(\"Non-Kubernetes\",array($Namespace)) or in(k8s.namespace.name, array($Namespace))) and (isNull($logsource) or matchesValue($logsource, \" \") or contains(log.source,$logsource)))\n| filter contains(content, $Content)\n| summarize count=count(), by:{status,content}\n| sort count desc\n| limit 1\n| fields count, content","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"table","visualizationSettings":{"thresholds":[{"id":1,"field":"count()","title":"","isEnabled":true,"rules":[{"id":0,"color":{"Default":"var(--dt-colors-charts-categorical-color-09-default, #649438)"},"comparator":"≥","label":"","value":0},{"id":1,"color":{"Default":"var(--dt-colors-charts-status-warning-default, #eca440)"},"comparator":"≥","label":""},{"id":2,"color":{"Default":"var(--dt-colors-charts-status-critical-default, #c4233b)"},"comparator":"≥","label":""}]}],"chartSettings":{"xAxisScaling":"analyzedTimeframe","gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxisLabel":"content","valueAxisLabel":"count","tooltipVariant":"single","categoryAxis":["content"],"valueAxis":["count"]},"colorPalette":"log-level","hiddenLegendFields":["dt.entity.process_group","dt.entity.cloud_application","dt.entity.process_group_instance"],"valueRepresentation":"absolute","truncationMode":"middle"},"singleValue":{"showLabel":false,"label":"count","prefixIcon":"","recordField":"count","autoscale":true,"alignment":"center","colorThresholdTarget":"value","trend":{"trendType":"custom","isVisible":false},"isIconVisible":false},"table":{"rowDensity":"condensed","enableSparklines":true,"hiddenColumns":[["timeframe"],["interval"]],"lineWrapIds":[["timeframe"],["interval"],["pattern"],["count"]],"columnWidths":{"[\"pattern\"]":1504,"[\"example\"]":1736},"sortBy":{"columnId":"[\"count()\"]","direction":"descending"},"columnTypeOverrides":[{"fields":["content"],"id":1735853089439,"value":"log-content"}]},"honeycomb":{"shape":"hexagon","legend":"auto","dataMappings":{"value":"count"},"displayedFields":["content"],"colorMode":"color-palette","colorPalette":"blue"},"histogram":{"dataMappings":[{"valueAxis":"count","rangeAxis":""}],"variant":"single","displayedFields":["content"]},"autoSelectVisualization":false},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":50,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"17":{"type":"data","title":"Number of Logs w/o Trace Context","query":"fetch logs, samplingRatio:toLong($Sampling)\n| filter in(dt.system.bucket, $Buckets)\n| filter ((isNull(k8s.namespace.name) and in(\"Non-Kubernetes\",array($Namespace)) or in(k8s.namespace.name, array($Namespace))) and (isNull($logsource) or matchesValue($logsource, \" \") or contains(log.source,$logsource)))\n| filter contains(content, $Content)\n| filter isNull(trace_id)\n| summarize count()","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"singleValue","visualizationSettings":{"thresholds":[{"id":1,"field":"count()","title":"","isEnabled":true,"rules":[{"id":0,"color":{"Default":"var(--dt-colors-charts-categorical-color-12-default, #cd3741)"},"comparator":"≥","label":"","value":0},{"id":1,"color":{"Default":"var(--dt-colors-charts-status-warning-default, #eca440)"},"comparator":"≥","label":""},{"id":2,"color":{"Default":"var(--dt-colors-charts-status-critical-default, #c4233b)"},"comparator":"≥","label":""}]}],"chartSettings":{"xAxisScaling":"analyzedTimeframe","gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxisLabel":"count()","valueAxisLabel":"count()","tooltipVariant":"single","categoryAxis":["count()"],"valueAxis":["count()"]},"colorPalette":"log-level","hiddenLegendFields":["dt.entity.process_group","dt.entity.cloud_application","dt.entity.process_group_instance"],"valueRepresentation":"absolute","truncationMode":"middle"},"singleValue":{"showLabel":false,"label":"count()","prefixIcon":"","recordField":"count()","autoscale":true,"alignment":"center","colorThresholdTarget":"value","trend":{"trendType":"custom","isVisible":false},"isIconVisible":false},"table":{"rowDensity":"condensed","enableSparklines":true,"hiddenColumns":[["timeframe"],["interval"]],"lineWrapIds":[["timeframe"],["interval"],["pattern"],["count"]],"columnWidths":{"[\"pattern\"]":1504,"[\"example\"]":1736},"sortBy":{"columnId":"[\"count()\"]","direction":"descending"},"columnTypeOverrides":[]},"honeycomb":{"shape":"hexagon","legend":"auto","dataMappings":{},"displayedFields":[],"colorMode":"color-palette","colorPalette":"blue"},"histogram":{"dataMappings":[{"valueAxis":"count()","rangeAxis":""}],"variant":"single","displayedFields":[]},"autoSelectVisualization":false},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":50,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"18":{"type":"markdown","title":"","content":"### Top Logs\nAnalyze overall top log messages, for the selected filtered status or those that have a connected Trace\n\n**Open Trace:** In the Logs with Traces simply click on the log and select \"Open Record With\" to open the Distributed Traces App"},"19":{"type":"markdown","title":"","content":"### Most Recent Logs that match the dashboard filter\nYou can also click on a log and select \"Open Record With\" to open the connected host, container or trace"},"20":{"type":"data","title":"Logs with Exceptions","query":"fetch logs, samplingRatio:toLong($Sampling)\n| filter in(dt.system.bucket, $Buckets)\n| filter ((isNull(k8s.namespace.name) and in(\"Non-Kubernetes\",array($Namespace)) or in(k8s.namespace.name, array($Namespace))) and (isNull($logsource) or matchesValue($logsource, \" \") or contains(log.source,$logsource)))\n| filter contains(content, \"Exception\")\n| summarize count=count()\n\n","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"singleValue","visualizationSettings":{"thresholds":[{"id":1,"field":"count","title":"","isEnabled":true,"rules":[{"id":0,"color":{"Default":"var(--dt-colors-charts-categorical-color-12-default, #cd3741)"},"comparator":"≥","label":"","value":0},{"id":1,"color":{"Default":"var(--dt-colors-charts-status-warning-default, #eca440)"},"comparator":"≥","label":""},{"id":2,"color":{"Default":"var(--dt-colors-charts-status-critical-default, #c4233b)"},"comparator":"≥","label":""}]}],"chartSettings":{"xAxisScaling":"analyzedTimeframe","gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxisLabel":"count","valueAxisLabel":"count","tooltipVariant":"single","categoryAxis":["count"],"valueAxis":["count"]},"colorPalette":"log-level","hiddenLegendFields":["dt.entity.process_group","dt.entity.cloud_application","dt.entity.process_group_instance"],"valueRepresentation":"absolute","truncationMode":"middle"},"singleValue":{"showLabel":false,"label":"count","prefixIcon":"","recordField":"count","autoscale":true,"alignment":"center","colorThresholdTarget":"value","trend":{"trendType":"custom","isVisible":false},"isIconVisible":false},"table":{"rowDensity":"condensed","enableSparklines":true,"hiddenColumns":[["timeframe"],["interval"]],"lineWrapIds":[["timeframe"],["interval"],["pattern"],["count"]],"columnWidths":{"[\"pattern\"]":1504,"[\"example\"]":1736},"sortBy":{"columnId":"[\"count()\"]","direction":"descending"},"columnTypeOverrides":[]},"honeycomb":{"shape":"hexagon","legend":"auto","dataMappings":{},"displayedFields":[],"colorMode":"color-palette","colorPalette":"blue"},"histogram":{"dataMappings":[{"valueAxis":"count","rangeAxis":""}],"variant":"single","displayedFields":[]},"autoSelectVisualization":false},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":50,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"21":{"type":"markdown","title":"","content":"### Logs with errors or exceptions\nSometimes we have logs that contain error or exception information but we miss it because the log level is not properly set. \nFollowing two tables show logs that should be errors!"},"22":{"type":"data","title":"Logs with Exceptions","query":"fetch logs, samplingRatio:toLong($Sampling)\n| filter in(dt.system.bucket, $Buckets)\n| filter ((isNull(k8s.namespace.name) and in(\"Non-Kubernetes\",array($Namespace)) or in(k8s.namespace.name, array($Namespace))) and (isNull($logsource) or matchesValue($logsource, \" \") or contains(log.source,$logsource)))\n| filter contains(content, $Content)\n| filter contains(content, \"Exception\") or contains(content, \"exception\")\n| fields status, timestamp, log.source, content, dt.entity.host, dt.entity.kubernetes_cluster, dt.entity.cloud_application, dt.entity.cloud_application_instance, dt.entity.cloud_application_namespace, trace_id, span_id","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"table","visualizationSettings":{"thresholds":[{"id":1,"field":"count()","title":"","isEnabled":true,"rules":[{"id":0,"color":{"Default":"var(--dt-colors-charts-categorical-color-12-default, #cd3741)"},"comparator":"≥","label":"","value":0},{"id":1,"color":{"Default":"var(--dt-colors-charts-status-warning-default, #eca440)"},"comparator":"≥","label":""},{"id":2,"color":{"Default":"var(--dt-colors-charts-status-critical-default, #c4233b)"},"comparator":"≥","label":""}]}],"chartSettings":{"xAxisScaling":"analyzedTimeframe","gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxisLabel":"status,log.source,content,dt.entity.host,dt.entity.kubernetes_cluster,dt.entity.cloud_application,dt.entity.cloud_application_instance,dt.entity.cloud_application_namespace,trace_id,span_id","valueAxisLabel":"","tooltipVariant":"single","categoryAxis":["status","log.source","content","dt.entity.host","dt.entity.kubernetes_cluster","dt.entity.cloud_application","dt.entity.cloud_application_instance","dt.entity.cloud_application_namespace","trace_id","span_id"],"valueAxis":[]},"colorPalette":"log-level","hiddenLegendFields":["dt.entity.process_group","dt.entity.cloud_application","dt.entity.process_group_instance"],"valueRepresentation":"absolute","truncationMode":"middle"},"singleValue":{"showLabel":false,"label":"count()","prefixIcon":"","recordField":"count()","autoscale":true,"alignment":"center","colorThresholdTarget":"value","trend":{"trendType":"custom","isVisible":false},"isIconVisible":false},"table":{"rowDensity":"condensed","enableSparklines":true,"hiddenColumns":[["dt.entity.host"],["dt.entity.kubernetes_cluster"],["dt.entity.cloud_application"],["dt.entity.cloud_application_instance"],["dt.entity.cloud_application_namespace"],["trace_id"],["span_id"]],"lineWrapIds":[],"columnWidths":{"[\"pattern\"]":1504,"[\"example\"]":1736},"sortBy":{"columnId":"[\"count()\"]","direction":"descending"},"linewrapEnabled":false,"monospacedFontEnabled":true,"monospacedFontColumns":[["content"]],"columnTypeOverrides":[{"fields":["content"],"id":1735853093699,"value":"log-content"}]},"honeycomb":{"shape":"hexagon","legend":"auto","dataMappings":{"value":"status"},"displayedFields":["status","log.source","content","dt.entity.host","dt.entity.kubernetes_cluster","dt.entity.cloud_application","dt.entity.cloud_application_instance","dt.entity.cloud_application_namespace"],"colorMode":"color-palette","colorPalette":"categorical"},"histogram":{"dataMappings":[],"variant":"single","displayedFields":["status","log.source","content","dt.entity.host","dt.entity.kubernetes_cluster","dt.entity.cloud_application","dt.entity.cloud_application_instance","dt.entity.cloud_application_namespace"]},"autoSelectVisualization":false},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":50,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}}},"layouts":{"2":{"x":2,"y":6,"w":14,"h":8},"3":{"x":0,"y":0,"w":16,"h":6},"4":{"x":0,"y":16,"w":13,"h":7},"5":{"x":13,"y":16,"w":11,"h":7},"6":{"x":0,"y":23,"w":24,"h":5},"7":{"x":0,"y":12,"w":2,"h":2},"8":{"x":0,"y":10,"w":2,"h":2},"9":{"x":0,"y":8,"w":2,"h":2},"10":{"x":0,"y":6,"w":2,"h":2},"11":{"x":0,"y":30,"w":24,"h":8},"12":{"x":16,"y":8,"w":8,"h":6},"13":{"x":16,"y":0,"w":4,"h":3},"14":{"x":0,"y":40,"w":24,"h":5},"15":{"x":16,"y":3,"w":4,"h":3},"16":{"x":16,"y":6,"w":8,"h":2},"17":{"x":20,"y":3,"w":4,"h":3},"18":{"x":0,"y":14,"w":24,"h":2},"19":{"x":0,"y":28,"w":24,"h":2},"20":{"x":20,"y":0,"w":4,"h":3},"21":{"x":0,"y":38,"w":24,"h":2},"22":{"x":0,"y":45,"w":24,"h":5}},"importedWithCode":false,"settings":{}}