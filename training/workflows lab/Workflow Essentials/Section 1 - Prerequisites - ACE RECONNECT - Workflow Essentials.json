{"version":1,"defaultTimeframe":{"from":"now-2h","to":"now"},"sections":[{"id":"0","type":"markdown","markdown":"\n### Environment Setup\n\n1. Workflow Settings - Authorization\n2. Slack for Workflows\n3. Config Generator\n4. Data Generator"},{"id":"1","type":"markdown","markdown":"\nTo run a workflow with your user as the actor (this is the default on workflow creation), you need to authorize the AutomationEngine to use permissions in your name. Note: The AutomationEngine authorization only works for permissions granted to your user.\n\nIn your Dynatrace environment, open the Workflows App.\n\nValidate that the following permissions are granted to workflow executions.\n\n![../../../assets/images/01-workflow-authorization-settings.png](../../../assets/images/01-workflow-authorization-settings.png)\n\nPrimary permissions:\n\n[ x ] app-engine:apps:run - Grants permission to list and run apps and gives basic access to the Launcher\n\n[ x ] app-engine:functions:run - Grants permission to use the function-executor\n\n[ x ] app-settings:objects:read - Grants permission to read app settings objects belonging to the schema\n\nSecondary permissions:\n\n[ x ] select all"},{"id":"2","type":"markdown","markdown":"\nIn your Dynatrace environment, search, locate, and open the Hub App.\n\nSearch for the App `Slack for Workflows` and click on it.\n\n![../../../assets/images/01-hub-slack-workflows.png](../../../assets/images/01-hub-slack-workflows.png)\n\nClick on Install to install the App into your environment.\n\nClose any notification prompts if necessary.\n\nValidate that the App was installed into your environment.\n\n![../../../assets/images/01-slack-workflows-install.png](../../../assets/images/01-slack-workflows-install.png)"},{"id":"3","type":"markdown","markdown":"\nIn your Dynatrace environment, open the Workflows App.\n\nImport the workflow 'Workflow Essentials - Config Generator' using the source file [`dt_wftpl_workflow_essentials_config_generator.yaml`](https://github.com/popecruzdt/dt-workflow-essentials/blob/main/assets/dt_wftpl_workflow_essentials_config_generator.yaml)\n\nWorkflows are imported using the Upload button.\n\n![../../../assets/images/01-import-config-generator.png](../../../assets/images/01-import-config-generator.png)\n\nLocate the `js_set_parameters` task.  Locate the code snippet for the Slack connection.\n\nSet the `CONNECTION_TOKEN` value to the Slack App Bot User Token you have been provided (or have created).\n\n![../../../assets/images/01-config-generator-set-parameters.png](../../../assets/images/01-config-generator-set-parameters.png)\n\nRun the workflow and validate that it runs successfully.\n\n![../../../assets/images/01-config-generator-execution.png](../../../assets/images/01-config-generator-execution.png)\n\nAs a result of the workflow, three configurations have been made to the Dynatrace environment:\n\n1. A credential vault entry has been added containing a Dynatrace API token\n    * Copy the credential vault ID from the result of the `js_create_credential` task and store it in your notes somewhere, it is needed in a future exercise\n2. The allow list for outbound connections has been updated with the hosts/domains required for this lab\n    * No action required, simply verify using screenshot below\n3. A Slack Connection has been created called `workflow_essentials_demo`\n    * No action required, simply verify using screenshot below\n\n![../../../assets/images/01-config-generator-results.png](../../../assets/images/01-config-generator-results.png)"},{"id":"4","type":"markdown","markdown":"\nIn your Dynatrace environment, open the Workflows App.\n\nImport the workflow 'Workflow Essentials - Data Generator' using the source file [`dt_wftpl_workflow_essentials_data_generator.yaml`](https://github.com/popecruzdt/dt-workflow-essentials/blob/main/assets/dt_wftpl_workflow_essentials_data_generator.yaml)\n\nWorkflows are imported using the Upload button.\n\n![../../../assets/images/01-import-data-generator.png](../../../assets/images/01-import-data-generator.png)\n\nNo changes are required.  The workflow is scheduled to run every 5 minutes.\n\n![../../../assets/images/01-data-generator-workflow.png](../../../assets/images/01-data-generator-workflow.png)\n\nThis workflow will generate bizevents representing a multi-stage business process.  This data will be used by the other workflows in the lab, removing the requirement to deploy OneAgents or ingest data through other mechanisms."}]}