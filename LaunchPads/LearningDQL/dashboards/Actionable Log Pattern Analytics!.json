{"version":21,"variables":[{"key":"Buckets","type":"query","visible":true,"input":"fetch dt.system.buckets\n| filter dt.system.table==\"logs\"\n| fields name\n| sort name","multiple":true,"defaultValue":["3420b2ac-f1cf-4b24-b62d-61ba1ba8ed05*"],"version":2},{"key":"Namespace","type":"query","visible":true,"input":"data record(entity.name=\"Non-Kubernetes\")\n| append [fetch dt.entity.cloud_application_namespace\n| fields entity.name\n| sort entity.name]","multiple":true,"defaultValue":["3420b2ac-f1cf-4b24-b62d-61ba1ba8ed05*"],"version":2},{"key":"logsource","type":"text","visible":true,"version":2},{"key":"Sampling","type":"csv","visible":true,"input":"10000,1000,100,10,1","multiple":false,"defaultValue":"100","version":2},{"key":"Status","type":"csv","visible":true,"input":"NONE,INFO,WARN,ERROR","multiple":false,"defaultValue":"ERROR","version":2},{"key":"Content","type":"text","visible":true,"version":2}],"tiles":{"2":{"type":"data","title":"Logs per Status over Time with total sums on the left for each status","query":"fetch logs, samplingRatio:toLong($Sampling)\n| filter in(dt.system.bucket, $Buckets)\n| filter ((isNull(k8s.namespace.name) and in(\"Non-Kubernetes\",array($Namespace)) or in(k8s.namespace.name, array($Namespace))) and (isNull($logsource) or matchesValue($logsource, \" \") or contains(log.source,$logsource)))\n| filter contains(content, $Content)\n| maketimeseries {count=count(default:0)}, by: {status}, bins:60","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"barChart","visualizationSettings":{"chartSettings":{"truncationMode":"middle","legend":{"hidden":true},"xAxisLabel":"timeframe","xAxisScaling":"analyzedTimeframe","colorPalette":"log-level","hiddenLegendFields":["dt.entity.process_group","dt.entity.cloud_application","dt.entity.process_group_instance","interval"],"fieldMapping":{"leftAxisValues":["count"],"timestamp":"timeframe"}},"autoSelectVisualization":false,"thresholds":[]},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":50,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"3":{"type":"markdown","content":"### Quick Start: Let Dynatrace Make your Logs Actionable!\nThis dashboard gives quick access and analysis to relevant logs that you can easily filter on ...\n* **buckets**: Specify which data set you want to query!\n* **namespaces**: Running on k8s? Then select the namespaces your are interested in\n* **logsource**: Want to analyze a specific log file or source?\n* **sampling**: Leverage the DQL sampling feature, e.g:only analyze every 100th log!\n* **status**: This is the status filter for the **Top 20 Tables**\n* **content**: Looking for a specific message? Then enter the log content pattern\n\n**To test this dashboard on the Playground Tenant please try the following settings:** \n* [Scenario with all namespaces with any logsource](https://wkf10640.apps.dynatrace.com/ui/apps/dynatrace.dashboards/dashboard/bfb7e2ed-e545-43fa-ae07-72ec92cbaaf9#from=now%28%29-2h&to=now%28%29&tileIds=3&vfilter_Buckets=default_logs&vfilter_Namespace=3420b2ac-f1cf-4b24-b62d-61ba1ba8ed05*&&vfilter_logsource=%20&vfilter_Sampling=100&vfilter_Status=ERROR)\n* [Scenario focusing on content from log sources that contain .log](https://wkf10640.apps.dynatrace.com/ui/apps/dynatrace.dashboards/dashboard/bfb7e2ed-e545-43fa-ae07-72ec92cbaaf9#from=now%28%29-2h&to=now%28%29&tileIds=3&vfilter_Buckets=default_logs&vfilter_Namespace=3420b2ac-f1cf-4b24-b62d-61ba1ba8ed05*&vfilter_logsource=.log&vfilter_Sampling=100&vfilter_Status=ERROR)\n\nIf you have feedback please send it to [devrel@dynatrace.com](mailto:devrel@dynatrace.com?subject=Feedback%20Log%20Pattern%20Dashboard)"},"4":{"type":"data","title":"Top 20 Log Messages overall","query":"fetch logs, samplingRatio:toLong($Sampling)\n| filter in(dt.system.bucket, $Buckets)\n| filter ((isNull(k8s.namespace.name) and in(\"Non-Kubernetes\",array($Namespace)) or in(k8s.namespace.name, array($Namespace))) and (isNull($logsource) or matchesValue($logsource, \" \") or contains(log.source,$logsource)))\n| filter contains(content, $Content)\n| summarize count=count(), by:{status,content}\n| sort count desc\n| limit 20\n| fields count, status, content","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"table","visualizationSettings":{"table":{"columnTypeOverrides":[{"fields":["content"],"id":1735853089343,"value":"log-content"}],"enableSparklines":true,"linewrapEnabled":true,"monospacedFontColumns":[["content"]],"monospacedFontEnabled":true,"lineWrapIds":[["content"]],"sortBy":{"columnId":"[\"count()\"]","direction":"descending"},"columnWidths":{"[\"pattern\"]":1504,"[\"example\"]":1736,"[\"content\"]":620}},"autoSelectVisualization":false,"thresholds":[]},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":50,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"5":{"type":"data","title":"Top 20 Log Messages for selected Status","query":"fetch logs, samplingRatio:toLong($Sampling)\n| filter in(dt.system.bucket, $Buckets)\n| filter ((isNull(k8s.namespace.name) and in(\"Non-Kubernetes\",array($Namespace)) or in(k8s.namespace.name, array($Namespace))) and (isNull($logsource) or matchesValue($logsource, \" \") or contains(log.source,$logsource)))\n| filter contains(content, $Content)\n| filter status == $Status\n| summarize count=count(), by:{status,content}\n| sort count desc\n| limit 20\n| fields count, status, content","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"table","visualizationSettings":{"table":{"columnTypeOverrides":[{"fields":["content"],"id":1735853088268,"value":"log-content"}],"enableSparklines":true,"linewrapEnabled":true,"monospacedFontColumns":[["content"]],"monospacedFontEnabled":true,"lineWrapIds":[["content"]],"sortBy":{"columnId":"[\"count()\"]","direction":"descending"},"columnWidths":{"[\"pattern\"]":1504,"[\"example\"]":1736,"[\"content\"]":552}},"autoSelectVisualization":false,"thresholds":[]},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":50,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"6":{"type":"data","title":"Top 20 Log Messages for selected Status connected to Trace","query":"fetch logs, samplingRatio:toLong($Sampling)\n| filter in(dt.system.bucket, $Buckets)\n| filter ((isNull(k8s.namespace.name) and in(\"Non-Kubernetes\",array($Namespace)) or in(k8s.namespace.name, array($Namespace))) and (isNull($logsource) or matchesValue($logsource, \" \") or contains(log.source,$logsource)))\n| filter contains(content, $Content)\n| filter isNotNull(trace_id)\n| summarize count=count(), by:{status,content,trace_id,timestamp}\n| sort count desc\n| limit 20\n| fields count, status, content, trace_id, timestamp","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"table","visualizationSettings":{"table":{"columnTypeOverrides":[{"fields":["content"],"id":1735853091530,"value":"log-content"}],"enableSparklines":true,"linewrapEnabled":true,"monospacedFontColumns":[["content"]],"monospacedFontEnabled":true,"lineWrapIds":[["content"]],"sortBy":{"columnId":"[\"count()\"]","direction":"descending"},"columnWidths":{"[\"pattern\"]":1504,"[\"example\"]":1736,"[\"content\"]":771}},"autoSelectVisualization":false,"thresholds":[]},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":50,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"7":{"type":"data","title":"","query":"fetch logs, samplingRatio:toLong($Sampling)\n| filter in(dt.system.bucket, $Buckets)\n| filter ((isNull(k8s.namespace.name) and in(\"Non-Kubernetes\",array($Namespace)) or in(k8s.namespace.name, array($Namespace))) and (isNull($logsource) or matchesValue($logsource, \" \") or contains(log.source,$logsource)))\n| filter contains(content, $Content)\n| filter status == \"NONE\"\n| summarize count()","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"singleValue","visualizationSettings":{"singleValue":{"labelMode":"none","label":"count()","recordField":"count()","prefixIcon":"","trend":{"isVisible":false,"trendField":"count()","trendType":"custom"}},"autoSelectVisualization":false,"thresholds":[]},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":50,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"8":{"type":"data","title":"","query":"fetch logs, samplingRatio:toLong($Sampling)\n| filter in(dt.system.bucket, $Buckets)\n| filter ((isNull(k8s.namespace.name) and in(\"Non-Kubernetes\",array($Namespace)) or in(k8s.namespace.name, array($Namespace))) and (isNull($logsource) or matchesValue($logsource, \" \") or contains(log.source,$logsource)))\n| filter contains(content, $Content)\n| filter status == \"INFO\"\n| summarize count()","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"singleValue","visualizationSettings":{"singleValue":{"labelMode":"none","label":"count()","recordField":"count()","prefixIcon":"","trend":{"isVisible":false,"trendField":"count()","trendType":"custom"}},"autoSelectVisualization":false,"thresholds":[{"id":1,"field":"count()","title":"","isEnabled":true,"rules":[{"id":0,"color":{"Default":"var(--dt-colors-charts-categorical-color-01-default, #134fc9)"},"comparator":"≥","label":"","value":0},{"id":1,"color":{"Default":"var(--dt-colors-charts-status-warning-default, #eca440)"},"comparator":"≥","label":""},{"id":2,"color":{"Default":"var(--dt-colors-charts-status-critical-default, #c4233b)"},"comparator":"≥","label":""}]}]},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":50,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"9":{"type":"data","title":"","query":"fetch logs, samplingRatio:toLong($Sampling)\n| filter in(dt.system.bucket, $Buckets)\n| filter ((isNull(k8s.namespace.name) and in(\"Non-Kubernetes\",array($Namespace)) or in(k8s.namespace.name, array($Namespace))) and (isNull($logsource) or matchesValue($logsource, \" \") or contains(log.source,$logsource)))\n| filter contains(content, $Content)\n| filter status == \"WARN\"\n| summarize count()","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"singleValue","visualizationSettings":{"singleValue":{"labelMode":"none","label":"count()","recordField":"count()","prefixIcon":"","trend":{"isVisible":false,"trendField":"count()","trendType":"custom"}},"autoSelectVisualization":false,"thresholds":[{"id":1,"field":"count()","title":"","isEnabled":true,"rules":[{"id":0,"color":{"Default":"var(--dt-colors-charts-categorical-color-14-default, #d56b1a)"},"comparator":"≥","label":"","value":0},{"id":1,"color":{"Default":"var(--dt-colors-charts-status-warning-default, #eca440)"},"comparator":"≥","label":""},{"id":2,"color":{"Default":"var(--dt-colors-charts-status-critical-default, #c4233b)"},"comparator":"≥","label":""}]}]},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":50,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"10":{"type":"data","title":"","query":"fetch logs, samplingRatio:toLong($Sampling)\n| filter in(dt.system.bucket, $Buckets)\n| filter ((isNull(k8s.namespace.name) and in(\"Non-Kubernetes\",array($Namespace)) or in(k8s.namespace.name, array($Namespace))) and (isNull($logsource) or matchesValue($logsource, \" \") or contains(log.source,$logsource)))\n| filter contains(content, $Content)\n| filter status == \"ERROR\"\n| summarize count()","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"singleValue","visualizationSettings":{"singleValue":{"labelMode":"none","label":"count()","recordField":"count()","prefixIcon":"","trend":{"isVisible":false,"trendField":"count()","trendType":"custom"}},"autoSelectVisualization":false,"thresholds":[{"id":1,"field":"count()","title":"","isEnabled":true,"rules":[{"id":0,"color":{"Default":"var(--dt-colors-charts-categorical-color-12-default, #cd3741)"},"comparator":"≥","label":"","value":0},{"id":1,"color":{"Default":"var(--dt-colors-charts-status-warning-default, #eca440)"},"comparator":"≥","label":""},{"id":2,"color":{"Default":"var(--dt-colors-charts-status-critical-default, #c4233b)"},"comparator":"≥","label":""}]}]},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":50,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"11":{"type":"data","title":"","query":"fetch logs, samplingRatio:toLong($Sampling)\n| filter in(dt.system.bucket, $Buckets)\n| filter ((isNull(k8s.namespace.name) and in(\"Non-Kubernetes\",array($Namespace)) or in(k8s.namespace.name, array($Namespace))) and (isNull($logsource) or matchesValue($logsource, \" \") or contains(log.source,$logsource)))\n| filter contains(content, $Content)\n| limit 100\n| fields status, timestamp, log.source, content, dt.entity.host, dt.entity.kubernetes_cluster, dt.entity.cloud_application, dt.entity.cloud_application_instance, dt.entity.cloud_application_namespace, trace_id, span_id","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"table","visualizationSettings":{"table":{"columnTypeOverrides":[{"fields":["content"],"id":1735853090515,"value":"log-content"}],"enableSparklines":true,"hiddenColumns":[["dt.entity.host"],["dt.entity.kubernetes_cluster"],["dt.entity.cloud_application"],["dt.entity.cloud_application_instance"],["dt.entity.cloud_application_namespace"],["trace_id"],["span_id"]],"linewrapEnabled":true,"monospacedFontColumns":[["content"]],"monospacedFontEnabled":true,"lineWrapIds":[["content"]],"sortBy":{"columnId":"[\"count()\"]","direction":"descending"},"columnWidths":{"[\"pattern\"]":1504,"[\"example\"]":1736,"[\"dt.entity.process_group\"]":322.01416015625,"[\"dt.entity.process_group_instance\"]":385,"[\"log.source\"]":164.09375,"[\"content\"]":743,"[\"timestamp\"]":231.6676025390625}},"autoSelectVisualization":false,"thresholds":[]},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":50,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"12":{"type":"data","title":"Top Log Sources","query":"fetch logs, samplingRatio:toLong($Sampling)\n| filter in(dt.system.bucket, $Buckets)\n| filter ((isNull(k8s.namespace.name) and in(\"Non-Kubernetes\",array($Namespace)) or in(k8s.namespace.name, array($Namespace))) and (isNull($logsource) or matchesValue($logsource, \" \") or contains(log.source,$logsource)))\n| filter contains(content, $Content)\n| summarize {count()}, by: {log.source}","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"table","visualizationSettings":{"table":{"enableSparklines":true,"hiddenColumns":[["timeframe"],["interval"]],"lineWrapIds":[["timeframe"],["interval"],["pattern"],["count"]],"sortBy":{"columnId":"[\"count()\"]","direction":"descending"},"columnWidths":{"[\"pattern\"]":1504,"[\"example\"]":1736,"[\"log.source\"]":367.73010253906244}},"autoSelectVisualization":false,"thresholds":[]},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":50,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"13":{"type":"data","title":"NONE Logs with Error","query":"fetch logs, samplingRatio:toLong($Sampling)\n| filter in(dt.system.bucket, $Buckets)\n| filter ((isNull(k8s.namespace.name) and in(\"Non-Kubernetes\",array($Namespace)) or in(k8s.namespace.name, array($Namespace))) and (isNull($logsource) or matchesValue($logsource, \" \") or contains(log.source,$logsource)))\n| filter contains(content, $Content)\n| filter contains(content, \"Error\") or contains(content, \"error\")\n| filter status == \"NONE\"\n| summarize count()","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"singleValue","visualizationSettings":{"singleValue":{"labelMode":"none","label":"count()","recordField":"count()","prefixIcon":"","trend":{"isVisible":false,"trendType":"custom"}},"autoSelectVisualization":false,"thresholds":[{"id":1,"field":"count()","title":"","isEnabled":true,"rules":[{"id":0,"color":{"Default":"var(--dt-colors-charts-categorical-color-12-default, #cd3741)"},"comparator":"≥","label":"","value":0},{"id":1,"color":{"Default":"var(--dt-colors-charts-status-warning-default, #eca440)"},"comparator":"≥","label":""},{"id":2,"color":{"Default":"var(--dt-colors-charts-status-critical-default, #c4233b)"},"comparator":"≥","label":""}]}]},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":50,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"14":{"type":"data","title":"NONE Logs with Error Content","query":"fetch logs, samplingRatio:toLong($Sampling)\n| filter in(dt.system.bucket, $Buckets)\n| filter ((isNull(k8s.namespace.name) and in(\"Non-Kubernetes\",array($Namespace)) or in(k8s.namespace.name, array($Namespace))) and (isNull($logsource) or matchesValue($logsource, \" \") or contains(log.source,$logsource)))\n| filter contains(content, $Content)\n| filter contains(content, \"Error\") or contains(content, \"error\")\n| filter status == \"NONE\"\n| fields status, timestamp, log.source, content, dt.entity.host, dt.entity.kubernetes_cluster, dt.entity.cloud_application, dt.entity.cloud_application_instance, dt.entity.cloud_application_namespace, trace_id, span_id","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"table","visualizationSettings":{"table":{"columnTypeOverrides":[{"fields":["content"],"id":1735853093691,"value":"log-content"}],"enableSparklines":true,"hiddenColumns":[["dt.entity.host"],["dt.entity.kubernetes_cluster"],["dt.entity.cloud_application"],["dt.entity.cloud_application_instance"],["dt.entity.cloud_application_namespace"],["trace_id"],["span_id"]],"monospacedFontColumns":[["content"]],"monospacedFontEnabled":true,"sortBy":{"columnId":"[\"count()\"]","direction":"descending"},"columnWidths":{"[\"pattern\"]":1504,"[\"example\"]":1736}},"autoSelectVisualization":false,"thresholds":[{"id":1,"field":"count()","title":"","isEnabled":true,"rules":[{"id":0,"color":{"Default":"var(--dt-colors-charts-categorical-color-12-default, #cd3741)"},"comparator":"≥","label":"","value":0},{"id":1,"color":{"Default":"var(--dt-colors-charts-status-warning-default, #eca440)"},"comparator":"≥","label":""},{"id":2,"color":{"Default":"var(--dt-colors-charts-status-critical-default, #c4233b)"},"comparator":"≥","label":""}]}]},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":50,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"15":{"type":"data","title":"Number of Logs with Trace Context","query":"fetch logs, samplingRatio:toLong($Sampling)\n| filter in(dt.system.bucket, $Buckets)\n| filter ((isNull(k8s.namespace.name) and in(\"Non-Kubernetes\",array($Namespace)) or in(k8s.namespace.name, array($Namespace))) and (isNull($logsource) or matchesValue($logsource, \" \") or contains(log.source,$logsource)))\n| filter contains(content, $Content)\n| filter isNotNull(trace_id)\n| summarize count()","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"singleValue","visualizationSettings":{"singleValue":{"labelMode":"none","label":"count()","recordField":"count()","prefixIcon":"","trend":{"isVisible":false,"trendType":"custom"}},"autoSelectVisualization":false,"thresholds":[{"id":1,"field":"count()","title":"","isEnabled":true,"rules":[{"id":0,"color":{"Default":"var(--dt-colors-charts-categorical-color-09-default, #649438)"},"comparator":"≥","label":"","value":0},{"id":1,"color":{"Default":"var(--dt-colors-charts-status-warning-default, #eca440)"},"comparator":"≥","label":""},{"id":2,"color":{"Default":"var(--dt-colors-charts-status-critical-default, #c4233b)"},"comparator":"≥","label":""}]}]},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":50,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"16":{"type":"data","title":"Top Log Message","query":"fetch logs, samplingRatio:toLong($Sampling)\n| filter in(dt.system.bucket, $Buckets)\n| filter ((isNull(k8s.namespace.name) and in(\"Non-Kubernetes\",array($Namespace)) or in(k8s.namespace.name, array($Namespace))) and (isNull($logsource) or matchesValue($logsource, \" \") or contains(log.source,$logsource)))\n| filter contains(content, $Content)\n| summarize count=count(), by:{status,content}\n| sort count desc\n| limit 1\n| fields count, content","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"table","visualizationSettings":{"table":{"columnTypeOverrides":[{"fields":["content"],"id":1735853089439,"value":"log-content"}],"enableSparklines":true,"hiddenColumns":[["timeframe"],["interval"]],"lineWrapIds":[["timeframe"],["interval"],["pattern"],["count"]],"sortBy":{"columnId":"[\"count()\"]","direction":"descending"},"columnWidths":{"[\"pattern\"]":1504,"[\"example\"]":1736}},"autoSelectVisualization":false,"thresholds":[{"id":1,"field":"count()","title":"","isEnabled":true,"rules":[{"id":0,"color":{"Default":"var(--dt-colors-charts-categorical-color-09-default, #649438)"},"comparator":"≥","label":"","value":0},{"id":1,"color":{"Default":"var(--dt-colors-charts-status-warning-default, #eca440)"},"comparator":"≥","label":""},{"id":2,"color":{"Default":"var(--dt-colors-charts-status-critical-default, #c4233b)"},"comparator":"≥","label":""}]}]},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":50,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"17":{"type":"data","title":"Number of Logs w/o Trace Context","query":"fetch logs, samplingRatio:toLong($Sampling)\n| filter in(dt.system.bucket, $Buckets)\n| filter ((isNull(k8s.namespace.name) and in(\"Non-Kubernetes\",array($Namespace)) or in(k8s.namespace.name, array($Namespace))) and (isNull($logsource) or matchesValue($logsource, \" \") or contains(log.source,$logsource)))\n| filter contains(content, $Content)\n| filter isNull(trace_id)\n| summarize count()","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"singleValue","visualizationSettings":{"singleValue":{"labelMode":"none","label":"count()","recordField":"count()","prefixIcon":"","trend":{"isVisible":false,"trendType":"custom"}},"autoSelectVisualization":false,"thresholds":[{"id":1,"field":"count()","title":"","isEnabled":true,"rules":[{"id":0,"color":{"Default":"var(--dt-colors-charts-categorical-color-12-default, #cd3741)"},"comparator":"≥","label":"","value":0},{"id":1,"color":{"Default":"var(--dt-colors-charts-status-warning-default, #eca440)"},"comparator":"≥","label":""},{"id":2,"color":{"Default":"var(--dt-colors-charts-status-critical-default, #c4233b)"},"comparator":"≥","label":""}]}]},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":50,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"18":{"type":"markdown","content":"### Top Logs\nAnalyze overall top log messages, for the selected filtered status or those that have a connected Trace\n\n**Open Trace:** In the Logs with Traces simply click on the log and select \"Open Record With\" to open the Distributed Traces App"},"19":{"type":"markdown","content":"### Most Recent Logs that match the dashboard filter\nYou can also click on a log and select \"Open Record With\" to open the connected host, container or trace"},"20":{"type":"data","title":"Logs with Exceptions","query":"fetch logs, samplingRatio:toLong($Sampling)\n| filter in(dt.system.bucket, $Buckets)\n| filter ((isNull(k8s.namespace.name) and in(\"Non-Kubernetes\",array($Namespace)) or in(k8s.namespace.name, array($Namespace))) and (isNull($logsource) or matchesValue($logsource, \" \") or contains(log.source,$logsource)))\n| filter contains(content, \"Exception\")\n| summarize count=count()\n\n","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"singleValue","visualizationSettings":{"singleValue":{"labelMode":"none","label":"count","recordField":"count","prefixIcon":"","trend":{"isVisible":false,"trendType":"custom"}},"autoSelectVisualization":false,"thresholds":[{"id":1,"field":"count","title":"","isEnabled":true,"rules":[{"id":0,"color":{"Default":"var(--dt-colors-charts-categorical-color-12-default, #cd3741)"},"comparator":"≥","label":"","value":0},{"id":1,"color":{"Default":"var(--dt-colors-charts-status-warning-default, #eca440)"},"comparator":"≥","label":""},{"id":2,"color":{"Default":"var(--dt-colors-charts-status-critical-default, #c4233b)"},"comparator":"≥","label":""}]}]},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":50,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"21":{"type":"markdown","content":"### Logs with errors or exceptions\nSometimes we have logs that contain error or exception information but we miss it because the log level is not properly set. \nFollowing two tables show logs that should be errors!"},"22":{"type":"data","title":"Logs with Exceptions","query":"fetch logs, samplingRatio:toLong($Sampling)\n| filter in(dt.system.bucket, $Buckets)\n| filter ((isNull(k8s.namespace.name) and in(\"Non-Kubernetes\",array($Namespace)) or in(k8s.namespace.name, array($Namespace))) and (isNull($logsource) or matchesValue($logsource, \" \") or contains(log.source,$logsource)))\n| filter contains(content, $Content)\n| filter contains(content, \"Exception\") or contains(content, \"exception\")\n| fields status, timestamp, log.source, content, dt.entity.host, dt.entity.kubernetes_cluster, dt.entity.cloud_application, dt.entity.cloud_application_instance, dt.entity.cloud_application_namespace, trace_id, span_id","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"table","visualizationSettings":{"table":{"columnTypeOverrides":[{"fields":["content"],"id":1735853093699,"value":"log-content"}],"enableSparklines":true,"hiddenColumns":[["dt.entity.host"],["dt.entity.kubernetes_cluster"],["dt.entity.cloud_application"],["dt.entity.cloud_application_instance"],["dt.entity.cloud_application_namespace"],["trace_id"],["span_id"]],"monospacedFontColumns":[["content"]],"monospacedFontEnabled":true,"sortBy":{"columnId":"[\"count()\"]","direction":"descending"},"columnWidths":{"[\"pattern\"]":1504,"[\"example\"]":1736}},"autoSelectVisualization":false,"thresholds":[{"id":1,"field":"count()","title":"","isEnabled":true,"rules":[{"id":0,"color":{"Default":"var(--dt-colors-charts-categorical-color-12-default, #cd3741)"},"comparator":"≥","label":"","value":0},{"id":1,"color":{"Default":"var(--dt-colors-charts-status-warning-default, #eca440)"},"comparator":"≥","label":""},{"id":2,"color":{"Default":"var(--dt-colors-charts-status-critical-default, #c4233b)"},"comparator":"≥","label":""}]}]},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":50,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}}},"layouts":{"2":{"x":2,"y":6,"w":14,"h":8},"3":{"x":0,"y":0,"w":16,"h":6},"4":{"x":0,"y":16,"w":13,"h":7},"5":{"x":13,"y":16,"w":11,"h":7},"6":{"x":0,"y":23,"w":24,"h":5},"7":{"x":0,"y":12,"w":2,"h":2},"8":{"x":0,"y":10,"w":2,"h":2},"9":{"x":0,"y":8,"w":2,"h":2},"10":{"x":0,"y":6,"w":2,"h":2},"11":{"x":0,"y":30,"w":24,"h":8},"12":{"x":16,"y":8,"w":8,"h":6},"13":{"x":16,"y":0,"w":4,"h":3},"14":{"x":0,"y":40,"w":24,"h":5},"15":{"x":16,"y":3,"w":4,"h":3},"16":{"x":16,"y":6,"w":8,"h":2},"17":{"x":20,"y":3,"w":4,"h":3},"18":{"x":0,"y":14,"w":24,"h":2},"19":{"x":0,"y":28,"w":24,"h":2},"20":{"x":20,"y":0,"w":4,"h":3},"21":{"x":0,"y":38,"w":24,"h":2},"22":{"x":0,"y":45,"w":24,"h":5}},"importedWithCode":false,"settings":{},"annotations":[]}